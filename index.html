<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
<script>

window.addEventListener('load', function() {
document.write('waiting');
  // Checking if Web3 has been injected by the browser (Mist/MetaMask)
  if (typeof window.web3 !== 'undefined') {
    // Use Mist/MetaMask's provider
    window.web3 = new Web3(window.web3.currentProvider);
  } else {
    console.log('No web3? You should consider trying MetaMask!')
    // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
    window.web3 = new Web3(new Web3.providers.HttpProvider("http://rinkeby.infura.io/v3/66492ced9c334deeb2bf9cd40f4e09b0"));
  }

  platformBrowserDynamic().bootstrapModule(AppModule);

});
// Check if web3 is defined or not
if (typeof web3 !== 'undefined') {
    // Define web3
    var web3 = new Web3(web3.currentProvider);
    // check if metamask is installed or not
    if (web3.currentProvider.isMetaMask === true) {
        // if installed check if it's on main-net and logged in
        web3.version.getNetwork((err, netId) => {
            // if account is not defined means not logged-in
            var account = web3.eth.accounts[0];
            // if account not defined means not logged-in
            if (account) {
                // if netId = 1 then main-net
                if (netId == 1) {
                  document.write('main net');
                } else {
                  document.write('not main net');
                }
            } else {
                document.write('please log in');
            }
        });
    } else {
        document.write('please install metamsk');
    }
}
</script>